function cov_2pq9vl3l2k(){var path="C:\\Users\\Surbhi bhor\\Desktop\\Case study\\microservices\\searchFlight\\flights.js";var hash="a868e5b1b3a4401a2cddf26b541cba667c6e123f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Surbhi bhor\\Desktop\\Case study\\microservices\\searchFlight\\flights.js",statementMap:{"0":{start:{line:2,column:16},end:{line:2,column:34}},"1":{start:{line:3,column:12},end:{line:3,column:21}},"2":{start:{line:4,column:19},end:{line:4,column:41}},"3":{start:{line:5,column:0},end:{line:5,column:27}},"4":{start:{line:8,column:21},end:{line:8,column:45}},"5":{start:{line:9,column:18},end:{line:9,column:47}},"6":{start:{line:12,column:13},end:{line:12,column:28}},"7":{start:{line:13,column:0},end:{line:13,column:49}},"8":{start:{line:15,column:17},end:{line:15,column:36}},"9":{start:{line:18,column:0},end:{line:20,column:33}},"10":{start:{line:19,column:11},end:{line:19,column:47}},"11":{start:{line:20,column:15},end:{line:20,column:31}},"12":{start:{line:22,column:0},end:{line:22,column:20}},"13":{start:{line:23,column:15},end:{line:23,column:39}},"14":{start:{line:30,column:23},end:{line:44,column:3}},"15":{start:{line:46,column:22},end:{line:46,column:50}},"16":{start:{line:47,column:2},end:{line:47,column:72}},"17":{start:{line:49,column:2},end:{line:49,column:26}},"18":{start:{line:105,column:0},end:{line:126,column:2}},"19":{start:{line:106,column:20},end:{line:112,column:5}},"20":{start:{line:115,column:17},end:{line:115,column:38}},"21":{start:{line:116,column:4},end:{line:124,column:6}},"22":{start:{line:117,column:8},end:{line:117,column:40}},"23":{start:{line:118,column:8},end:{line:118,column:34}},"24":{start:{line:121,column:8},end:{line:123,column:9}},"25":{start:{line:122,column:12},end:{line:122,column:22}},"26":{start:{line:143,column:0},end:{line:148,column:2}},"27":{start:{line:144,column:4},end:{line:147,column:6}},"28":{start:{line:145,column:8},end:{line:145,column:25}},"29":{start:{line:173,column:0},end:{line:187,column:3}},"30":{start:{line:174,column:4},end:{line:181,column:6}},"31":{start:{line:175,column:8},end:{line:180,column:9}},"32":{start:{line:176,column:12},end:{line:176,column:29}},"33":{start:{line:179,column:12},end:{line:179,column:32}},"34":{start:{line:214,column:0},end:{line:227,column:3}},"35":{start:{line:215,column:4},end:{line:226,column:6}},"36":{start:{line:216,column:8},end:{line:221,column:9}},"37":{start:{line:217,column:12},end:{line:217,column:29}},"38":{start:{line:220,column:12},end:{line:220,column:32}},"39":{start:{line:223,column:8},end:{line:225,column:9}},"40":{start:{line:224,column:12},end:{line:224,column:22}},"41":{start:{line:261,column:0},end:{line:275,column:3}},"42":{start:{line:262,column:17},end:{line:262,column:48}},"43":{start:{line:263,column:22},end:{line:263,column:58}},"44":{start:{line:265,column:4},end:{line:274,column:6}},"45":{start:{line:267,column:12},end:{line:267,column:29}},"46":{start:{line:268,column:12},end:{line:268,column:32}},"47":{start:{line:271,column:8},end:{line:273,column:9}},"48":{start:{line:272,column:12},end:{line:272,column:22}},"49":{start:{line:301,column:0},end:{line:312,column:5}},"50":{start:{line:302,column:4},end:{line:311,column:6}},"51":{start:{line:303,column:8},end:{line:303,column:26}},"52":{start:{line:304,column:8},end:{line:304,column:40}},"53":{start:{line:308,column:6},end:{line:310,column:7}},"54":{start:{line:309,column:8},end:{line:309,column:18}},"55":{start:{line:346,column:0},end:{line:364,column:5}},"56":{start:{line:347,column:20},end:{line:353,column:5}},"57":{start:{line:354,column:4},end:{line:363,column:6}},"58":{start:{line:356,column:6},end:{line:356,column:36}},"59":{start:{line:358,column:2},end:{line:358,column:26}},"60":{start:{line:360,column:6},end:{line:362,column:7}},"61":{start:{line:361,column:8},end:{line:361,column:18}},"62":{start:{line:368,column:0},end:{line:370,column:2}},"63":{start:{line:369,column:4},end:{line:369,column:68}},"64":{start:{line:372,column:0},end:{line:372,column:19}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:6},end:{line:19,column:7}},loc:{start:{line:19,column:11},end:{line:19,column:47}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:7},end:{line:20,column:8}},loc:{start:{line:20,column:15},end:{line:20,column:31}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:105,column:20},end:{line:105,column:21}},loc:{start:{line:105,column:32},end:{line:126,column:1}},line:105},"3":{name:"(anonymous_3)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:32},end:{line:120,column:5}},line:116},"4":{name:"(anonymous_4)",decl:{start:{line:120,column:14},end:{line:120,column:15}},loc:{start:{line:120,column:23},end:{line:124,column:5}},line:120},"5":{name:"(anonymous_5)",decl:{start:{line:143,column:20},end:{line:143,column:21}},loc:{start:{line:143,column:32},end:{line:148,column:1}},line:143},"6":{name:"(anonymous_6)",decl:{start:{line:144,column:23},end:{line:144,column:24}},loc:{start:{line:144,column:34},end:{line:147,column:5}},line:144},"7":{name:"(anonymous_7)",decl:{start:{line:173,column:34},end:{line:173,column:35}},loc:{start:{line:173,column:47},end:{line:187,column:1}},line:173},"8":{name:"(anonymous_8)",decl:{start:{line:174,column:61},end:{line:174,column:62}},loc:{start:{line:174,column:72},end:{line:181,column:5}},line:174},"9":{name:"(anonymous_9)",decl:{start:{line:214,column:22},end:{line:214,column:23}},loc:{start:{line:214,column:35},end:{line:227,column:1}},line:214},"10":{name:"(anonymous_10)",decl:{start:{line:215,column:41},end:{line:215,column:42}},loc:{start:{line:215,column:52},end:{line:222,column:5}},line:215},"11":{name:"(anonymous_11)",decl:{start:{line:222,column:13},end:{line:222,column:14}},loc:{start:{line:222,column:19},end:{line:226,column:5}},line:222},"12":{name:"(anonymous_12)",decl:{start:{line:261,column:39},end:{line:261,column:40}},loc:{start:{line:261,column:52},end:{line:275,column:1}},line:261},"13":{name:"(anonymous_13)",decl:{start:{line:265,column:65},end:{line:265,column:66}},loc:{start:{line:265,column:76},end:{line:270,column:5}},line:265},"14":{name:"(anonymous_14)",decl:{start:{line:270,column:13},end:{line:270,column:14}},loc:{start:{line:270,column:19},end:{line:274,column:5}},line:270},"15":{name:"(anonymous_15)",decl:{start:{line:301,column:34},end:{line:301,column:35}},loc:{start:{line:301,column:48},end:{line:312,column:3}},line:301},"16":{name:"(anonymous_16)",decl:{start:{line:302,column:70},end:{line:302,column:71}},loc:{start:{line:302,column:84},end:{line:307,column:5}},line:302},"17":{name:"(anonymous_17)",decl:{start:{line:307,column:13},end:{line:307,column:14}},loc:{start:{line:307,column:20},end:{line:311,column:5}},line:307},"18":{name:"(anonymous_18)",decl:{start:{line:346,column:23},end:{line:346,column:24}},loc:{start:{line:346,column:37},end:{line:364,column:3}},line:346},"19":{name:"(anonymous_19)",decl:{start:{line:355,column:45},end:{line:355,column:46}},loc:{start:{line:355,column:59},end:{line:359,column:5}},line:355},"20":{name:"(anonymous_20)",decl:{start:{line:359,column:13},end:{line:359,column:14}},loc:{start:{line:359,column:20},end:{line:363,column:5}},line:359},"21":{name:"(anonymous_21)",decl:{start:{line:368,column:17},end:{line:368,column:18}},loc:{start:{line:368,column:23},end:{line:370,column:1}},line:368}},branchMap:{"0":{loc:{start:{line:121,column:8},end:{line:123,column:9}},type:"if",locations:[{start:{line:121,column:8},end:{line:123,column:9}},{start:{line:121,column:8},end:{line:123,column:9}}],line:121},"1":{loc:{start:{line:175,column:8},end:{line:180,column:9}},type:"if",locations:[{start:{line:175,column:8},end:{line:180,column:9}},{start:{line:175,column:8},end:{line:180,column:9}}],line:175},"2":{loc:{start:{line:216,column:8},end:{line:221,column:9}},type:"if",locations:[{start:{line:216,column:8},end:{line:221,column:9}},{start:{line:216,column:8},end:{line:221,column:9}}],line:216},"3":{loc:{start:{line:223,column:8},end:{line:225,column:9}},type:"if",locations:[{start:{line:223,column:8},end:{line:225,column:9}},{start:{line:223,column:8},end:{line:225,column:9}}],line:223},"4":{loc:{start:{line:271,column:8},end:{line:273,column:9}},type:"if",locations:[{start:{line:271,column:8},end:{line:273,column:9}},{start:{line:271,column:8},end:{line:273,column:9}}],line:271},"5":{loc:{start:{line:308,column:6},end:{line:310,column:7}},type:"if",locations:[{start:{line:308,column:6},end:{line:310,column:7}},{start:{line:308,column:6},end:{line:310,column:7}}],line:308},"6":{loc:{start:{line:360,column:6},end:{line:362,column:7}},type:"if",locations:[{start:{line:360,column:6},end:{line:362,column:7}},{start:{line:360,column:6},end:{line:362,column:7}}],line:360}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a868e5b1b3a4401a2cddf26b541cba667c6e123f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2pq9vl3l2k=function(){return actualCoverage;};}return actualCoverage;}cov_2pq9vl3l2k();//load express
const express=(cov_2pq9vl3l2k().s[0]++,require("express"));const app=(cov_2pq9vl3l2k().s[1]++,express());const bodyParser=(cov_2pq9vl3l2k().s[2]++,require("body-parser"));cov_2pq9vl3l2k().s[3]++;app.use(bodyParser.json());//load swagger
const swaggerJsDoc=(cov_2pq9vl3l2k().s[4]++,require("swagger-jsdoc"));const swaggerUi=(cov_2pq9vl3l2k().s[5]++,require("swagger-ui-express"));//load cors
const cors=(cov_2pq9vl3l2k().s[6]++,require('cors'));cov_2pq9vl3l2k().s[7]++;app.use(cors({origin:'http://localhost:4200'}));//load mongoose
const mongoose=(cov_2pq9vl3l2k().s[8]++,require("mongoose"));//---------------------------------------------------------------------------------------------------------------------------------------------
//connect to database
cov_2pq9vl3l2k().s[9]++;mongoose.connect("mongodb+srv://surbhi:12345@flight.paxk2.mongodb.net/flightData",{useNewUrlParser:true,useUnifiedTopology:true}).then(()=>{cov_2pq9vl3l2k().f[0]++;cov_2pq9vl3l2k().s[10]++;return console.log("Connected to database");}).catch(err=>{cov_2pq9vl3l2k().f[1]++;cov_2pq9vl3l2k().s[11]++;return console.log(err);});//load its model
cov_2pq9vl3l2k().s[12]++;require("./Flight");const Flight=(cov_2pq9vl3l2k().s[13]++,mongoose.model("Flight"));//---------------------------------------------------------------------------------------------------------------------------------------------
//         SWAGGER DOCUMENTATION
// Extended: https://swagger.io/specification/#infoObject
const swaggerOptions=(cov_2pq9vl3l2k().s[14]++,{swaggerDefinition:{info:{version:"1.0.0",title:"Flight API",description:"Flight API Information",contact:{name:"Surbhi"},servers:["http://localhost:4545"]}},// ['.routes/*.js']
apis:["flights.js"]});const swaggerDocs=(cov_2pq9vl3l2k().s[15]++,swaggerJsDoc(swaggerOptions));cov_2pq9vl3l2k().s[16]++;app.use("/api-flight",swaggerUi.serve,swaggerUi.setup(swaggerDocs));cov_2pq9vl3l2k().s[17]++;app.use(express.json());/**
 * @swagger
 * definitions:
 *  Flight:
 *   type: object
 *   properties:
 *    flightCode:
 *      type: string
 *      description: code of the flight
 *      example: 'SC101'
 *    airline:
 *      type: string
 *      description: name of the airline
 *      example: 'SpiceJet'
 *    source:
 *      type: string
 *      description: source
 *      example: 'mumbai'
 *    destination:
 *      type: string
 *      description: Destination
 *      example: 'delhi'
 *    fare:
 *      type: number
 *      description: fare of the flight
 *      example: 2000
 *    
 */ //---------------------------------------------------------------------------------------------------------------------------------------------
// 1] create functionality
/**
 * @swagger
 * /flight:
 *   post:
 *     tags:
 *       - Flights
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Successfully created
 */cov_2pq9vl3l2k().s[18]++;app.post("/flight",(req,res)=>{cov_2pq9vl3l2k().f[2]++;var newFlight=(cov_2pq9vl3l2k().s[19]++,{flightCode:req.body.flightCode,airline:req.body.airline,source:req.body.source,destination:req.body.destination,fare:req.body.fare});//create new flight
var flight=(cov_2pq9vl3l2k().s[20]++,new Flight(newFlight));cov_2pq9vl3l2k().s[21]++;flight.save().then(data=>{cov_2pq9vl3l2k().f[3]++;cov_2pq9vl3l2k().s[22]++;console.log("New Flight added");cov_2pq9vl3l2k().s[23]++;res.status(200).send(data);//res.json(data)        
}).catch(err=>{cov_2pq9vl3l2k().f[4]++;cov_2pq9vl3l2k().s[24]++;if(err){cov_2pq9vl3l2k().b[0][0]++;cov_2pq9vl3l2k().s[25]++;throw err;}else{cov_2pq9vl3l2k().b[0][1]++;}});//res.send("New flight added successfully")
});//---------------------------------------------------------------------------------------------------------------------------------------------
// 2] RETRIEVE ALL FLIGHTS
/**
 * @swagger
 * /flights:
 *  get:
 *    tags:
 *       - Flights
 *    description: Used to get all flights in database
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 */cov_2pq9vl3l2k().s[26]++;app.get("/flights",(req,res)=>{cov_2pq9vl3l2k().f[5]++;cov_2pq9vl3l2k().s[27]++;Flight.find().then(flights=>{cov_2pq9vl3l2k().f[6]++;cov_2pq9vl3l2k().s[28]++;res.json(flights);//console.log(flights);
});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 3] retrieve flight by the code
/**
 * @swagger
 * /flightCode/{flightCode}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Fetch a flight.
 *    description: Used to fetch a single flight
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: flightCode
 *         required: true
 *         schema:
 *           type: String
 *         description: The flight code
 */cov_2pq9vl3l2k().s[29]++;app.get("/flightCode/:flightCode",(req,res)=>{cov_2pq9vl3l2k().f[7]++;cov_2pq9vl3l2k().s[30]++;Flight.findOne({flightCode:req.params.flightCode}).then(flight=>{cov_2pq9vl3l2k().f[8]++;cov_2pq9vl3l2k().s[31]++;if(flight){cov_2pq9vl3l2k().b[1][0]++;cov_2pq9vl3l2k().s[32]++;res.send(flight);}else{cov_2pq9vl3l2k().b[1][1]++;cov_2pq9vl3l2k().s[33]++;res.sendStatus(404);}});// .catch(err =>{
//     if(err){
//         throw err;
//     }
// })
});//---------------------------------------------------------------------------------------------------------------------------------------------
// 4] Retrieve flight by their id 
/**
 * @swagger
 * /flight/{id}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Fetch a flight.
 *    description: Used to fetch a single flight
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: id
 *         required: true
 *         schema:
 *           type: integer
 *         description: The flight ID
 */cov_2pq9vl3l2k().s[34]++;app.get("/flight/:id",(req,res)=>{cov_2pq9vl3l2k().f[9]++;cov_2pq9vl3l2k().s[35]++;Flight.findById(req.params.id).then(flight=>{cov_2pq9vl3l2k().f[10]++;cov_2pq9vl3l2k().s[36]++;if(flight){cov_2pq9vl3l2k().b[2][0]++;cov_2pq9vl3l2k().s[37]++;res.json(flight);}else{cov_2pq9vl3l2k().b[2][1]++;cov_2pq9vl3l2k().s[38]++;res.sendStatus(404);}}).catch(err=>{cov_2pq9vl3l2k().f[11]++;cov_2pq9vl3l2k().s[39]++;if(err){cov_2pq9vl3l2k().b[3][0]++;cov_2pq9vl3l2k().s[40]++;throw err;}else{cov_2pq9vl3l2k().b[3][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 5] Retrieve flight by source and destination
/**
 * @swagger
 * /flight/{source}/{destination}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Search flights
 *    description: Used to search flights
 *    responses:
 *      '200':
 *        description: Successfully searched flights
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: source
 *         required: true
 *         schema:
 *           type: String
 *         description: Source
 * 
 *       - in: path
 *         name: destination
 *         required: true
 *         schema:
 *           type: String
 *         description: Destination
 *       
 */cov_2pq9vl3l2k().s[41]++;app.get("/flight/:source/:destination",(req,res)=>{cov_2pq9vl3l2k().f[12]++;let source=(cov_2pq9vl3l2k().s[42]++,req.params.source.toLowerCase());let destination=(cov_2pq9vl3l2k().s[43]++,req.params.destination.toLowerCase());cov_2pq9vl3l2k().s[44]++;Flight.find({source:source,destination:destination}).then(flight=>{cov_2pq9vl3l2k().f[13]++;cov_2pq9vl3l2k().s[45]++;res.json(flight);cov_2pq9vl3l2k().s[46]++;console.log(flight);}).catch(err=>{cov_2pq9vl3l2k().f[14]++;cov_2pq9vl3l2k().s[47]++;if(err){cov_2pq9vl3l2k().b[4][0]++;cov_2pq9vl3l2k().s[48]++;throw err;}else{cov_2pq9vl3l2k().b[4][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 6] removing flights
/**
 * @swagger
 * /flight/{flightCode}:
 *  delete:
 *    tags:
 *       - Flights
 *    summary: Delete a flight.
 *    description: Used to delete a flight
 *    responses:
 *      '200':
 *        description: Successfully deleted flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: flightCode
 *         required: true
 *         schema:
 *           type: String
 *         description: The flight ID
 */cov_2pq9vl3l2k().s[49]++;app.delete('/flight/:flightCode',(req,res)=>{cov_2pq9vl3l2k().f[15]++;cov_2pq9vl3l2k().s[50]++;Flight.findOneAndRemove({flightCode:req.params.flightCode}).then(response=>{cov_2pq9vl3l2k().f[16]++;cov_2pq9vl3l2k().s[51]++;res.send(response);cov_2pq9vl3l2k().s[52]++;console.log(` flight deleted`);//res.send("Flight removed successfully");
//console.log(flight);
}).catch(err=>{cov_2pq9vl3l2k().f[17]++;cov_2pq9vl3l2k().s[53]++;if(err){cov_2pq9vl3l2k().b[5][0]++;cov_2pq9vl3l2k().s[54]++;throw err;}else{cov_2pq9vl3l2k().b[5][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 7]  UPDATING FLIGHT
/**
 * @swagger
 * /flight/{id}:
 *   put:
 *     tags:
 *       - Flights
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: id
 *         description: flight object id
 *         in: path
 *         required: true
 *         schema:
 *          type: string
 *          description: user's object id
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Flight Successfully updated
 *       400:
 *         description: Server Error
 */cov_2pq9vl3l2k().s[55]++;app.put('/flight/:id',(req,res)=>{cov_2pq9vl3l2k().f[18]++;var newFlight=(cov_2pq9vl3l2k().s[56]++,{airline:req.body.airline,flightCode:req.body.flightCode,source:req.body.source,destination:req.body.destination,fare:req.body.fare});cov_2pq9vl3l2k().s[57]++;Flight.findByIdAndUpdate(req.params.id,{"$set":newFlight},{new:true}).then(response=>{cov_2pq9vl3l2k().f[19]++;cov_2pq9vl3l2k().s[58]++;console.log(`flight updated`);cov_2pq9vl3l2k().s[59]++;res.send(response.data);}).catch(err=>{cov_2pq9vl3l2k().f[20]++;cov_2pq9vl3l2k().s[60]++;if(err){cov_2pq9vl3l2k().b[6][0]++;cov_2pq9vl3l2k().s[61]++;throw err;}else{cov_2pq9vl3l2k().b[6][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
//listen to the port
cov_2pq9vl3l2k().s[62]++;app.listen(4545,()=>{cov_2pq9vl3l2k().f[21]++;cov_2pq9vl3l2k().s[63]++;console.log("Up and running this is our flight search service");});cov_2pq9vl3l2k().s[64]++;module.exports=app;// app.delete('/flight/:id', (req, res) => {
//     Flight.deleteOne({id:req.params.id}).then((response) => {
//       res.send("Flight removed successfully");
//       //console.log(flight);
//     }).catch(err => {
//       if(err){
//         throw err;
//       }
//     })
//   });
//---------------------------------------------------------------------------------------------------------------------------------------------
// 7] Updating flights
// app.put('/flight/:flightCode', (req,res) => {
//     Flight.updateOne({flightCode: req.params.flightCode}, req.body).then((response) => {
//     Flight.findOne({flightCode: req.params.flightCode}).then(function(flight){
//         res.send(flight); 
//     })
//         //res.send("Flight updated successfully");
// }).catch(err => {
//     if(err){
//       throw err;
//     }
//   })
// });
// app.put('/flight/:id', (req,res) => {
//     Flight.findByIdAndUpdate( req.params.id).then((response) => {
//          res.send(response.data)
//          console.log("Flight updated sucessfully");
//         //res.send("Flight updated successfully");
// }).catch(err => {
//     if(err){
//       throw err;
//     }
//   })
// });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZsaWdodHMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhcHAiLCJib2R5UGFyc2VyIiwidXNlIiwianNvbiIsInN3YWdnZXJKc0RvYyIsInN3YWdnZXJVaSIsImNvcnMiLCJvcmlnaW4iLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiRmxpZ2h0IiwibW9kZWwiLCJzd2FnZ2VyT3B0aW9ucyIsInN3YWdnZXJEZWZpbml0aW9uIiwiaW5mbyIsInZlcnNpb24iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY29udGFjdCIsIm5hbWUiLCJzZXJ2ZXJzIiwiYXBpcyIsInN3YWdnZXJEb2NzIiwic2VydmUiLCJzZXR1cCIsInBvc3QiLCJyZXEiLCJyZXMiLCJuZXdGbGlnaHQiLCJmbGlnaHRDb2RlIiwiYm9keSIsImFpcmxpbmUiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsImZhcmUiLCJmbGlnaHQiLCJzYXZlIiwiZGF0YSIsInN0YXR1cyIsInNlbmQiLCJnZXQiLCJmaW5kIiwiZmxpZ2h0cyIsImZpbmRPbmUiLCJwYXJhbXMiLCJzZW5kU3RhdHVzIiwiZmluZEJ5SWQiLCJpZCIsInRvTG93ZXJDYXNlIiwiZGVsZXRlIiwiZmluZE9uZUFuZFJlbW92ZSIsInJlc3BvbnNlIiwicHV0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJsaXN0ZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoicWlUQWVZOzJGQWZaO0FBQ0EsS0FBTUEsQ0FBQUEsT0FBTywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsR0FBRywwQkFBR0YsT0FBTyxFQUFWLENBQVQsQ0FDQSxLQUFNRyxDQUFBQSxVQUFVLDBCQUFHRixPQUFPLENBQUMsYUFBRCxDQUFWLENBQWhCLEMsd0JBQ0FDLEdB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LENBRkQsaUNBR0QsQ0FURCxFQVVELENBbEJILEVBb0JBO0FBQ0E7eUJBQ0FoQixHQUFHLENBQUM4RCxNQUFKLENBQVcsSUFBWCxDQUFpQixJQUFNLG1EQUNuQmpELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtEQUFaLEVBQ0gsQ0FGRCxFLHlCQUlBaUQsTUFBTSxDQUFDQyxPQUFQLENBQWVoRSxHQUFmLENBaUJBO0FBQ0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvL2xvYWQgZXhwcmVzc1xyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcblxyXG4vL2xvYWQgc3dhZ2dlclxyXG5jb25zdCBzd2FnZ2VySnNEb2MgPSByZXF1aXJlKFwic3dhZ2dlci1qc2RvY1wiKTtcclxuY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZShcInN3YWdnZXItdWktZXhwcmVzc1wiKTtcclxuXHJcbi8vbG9hZCBjb3JzXHJcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJylcclxuYXBwLnVzZShjb3JzKHsgb3JpZ2luOiAnaHR0cDovL2xvY2FsaG9zdDo0MjAwJ30pKVxyXG4vL2xvYWQgbW9uZ29vc2VcclxuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vY29ubmVjdCB0byBkYXRhYmFzZVxyXG5tb25nb29zZS5jb25uZWN0KFwibW9uZ29kYitzcnY6Ly9zdXJiaGk6MTIzNDVAZmxpZ2h0LnBheGsyLm1vbmdvZGIubmV0L2ZsaWdodERhdGFcIix7dXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZX0pXHJcbi50aGVuKCgpPT4gY29uc29sZS5sb2coXCJDb25uZWN0ZWQgdG8gZGF0YWJhc2VcIikpXHJcbi5jYXRjaCgoZXJyKT0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4vL2xvYWQgaXRzIG1vZGVsXHJcbnJlcXVpcmUoXCIuL0ZsaWdodFwiKTtcclxuY29uc3QgRmxpZ2h0ID0gbW9uZ29vc2UubW9kZWwoXCJGbGlnaHRcIilcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyAgICAgICAgIFNXQUdHRVIgRE9DVU1FTlRBVElPTlxyXG5cclxuLy8gRXh0ZW5kZWQ6IGh0dHBzOi8vc3dhZ2dlci5pby9zcGVjaWZpY2F0aW9uLyNpbmZvT2JqZWN0XHJcbmNvbnN0IHN3YWdnZXJPcHRpb25zID0ge1xyXG4gICAgc3dhZ2dlckRlZmluaXRpb246IHtcclxuICAgICAgaW5mbzoge1xyXG4gICAgICAgIHZlcnNpb246IFwiMS4wLjBcIixcclxuICAgICAgICB0aXRsZTogXCJGbGlnaHQgQVBJXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRmxpZ2h0IEFQSSBJbmZvcm1hdGlvblwiLFxyXG4gICAgICAgIGNvbnRhY3Q6IHtcclxuICAgICAgICAgIG5hbWU6IFwiU3VyYmhpXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlcnZlcnM6IFtcImh0dHA6Ly9sb2NhbGhvc3Q6NDU0NVwiXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy8gWycucm91dGVzLyouanMnXVxyXG4gICAgYXBpczogW1wiZmxpZ2h0cy5qc1wiXVxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3Qgc3dhZ2dlckRvY3MgPSBzd2FnZ2VySnNEb2Moc3dhZ2dlck9wdGlvbnMpO1xyXG4gIGFwcC51c2UoXCIvYXBpLWZsaWdodFwiLCBzd2FnZ2VyVWkuc2VydmUsIHN3YWdnZXJVaS5zZXR1cChzd2FnZ2VyRG9jcykpO1xyXG5cclxuICBhcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIGRlZmluaXRpb25zOlxyXG4gKiAgRmxpZ2h0OlxyXG4gKiAgIHR5cGU6IG9iamVjdFxyXG4gKiAgIHByb3BlcnRpZXM6XHJcbiAqICAgIGZsaWdodENvZGU6XHJcbiAqICAgICAgdHlwZTogc3RyaW5nXHJcbiAqICAgICAgZGVzY3JpcHRpb246IGNvZGUgb2YgdGhlIGZsaWdodFxyXG4gKiAgICAgIGV4YW1wbGU6ICdTQzEwMSdcclxuICogICAgYWlybGluZTpcclxuICogICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICBkZXNjcmlwdGlvbjogbmFtZSBvZiB0aGUgYWlybGluZVxyXG4gKiAgICAgIGV4YW1wbGU6ICdTcGljZUpldCdcclxuICogICAgc291cmNlOlxyXG4gKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgIGRlc2NyaXB0aW9uOiBzb3VyY2VcclxuICogICAgICBleGFtcGxlOiAnbXVtYmFpJ1xyXG4gKiAgICBkZXN0aW5hdGlvbjpcclxuICogICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICBkZXNjcmlwdGlvbjogRGVzdGluYXRpb25cclxuICogICAgICBleGFtcGxlOiAnZGVsaGknXHJcbiAqICAgIGZhcmU6XHJcbiAqICAgICAgdHlwZTogbnVtYmVyXHJcbiAqICAgICAgZGVzY3JpcHRpb246IGZhcmUgb2YgdGhlIGZsaWdodFxyXG4gKiAgICAgIGV4YW1wbGU6IDIwMDBcclxuICogICAgXHJcbiAqL1xyXG5cclxuXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gMV0gY3JlYXRlIGZ1bmN0aW9uYWxpdHlcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHQ6XHJcbiAqICAgcG9zdDpcclxuICogICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gRmxpZ2h0c1xyXG4gKiAgICAgZGVzY3JpcHRpb246IENyZWF0ZXMgYSBuZXcgZmxpZ2h0XHJcbiAqICAgICBwcm9kdWNlczpcclxuICogICAgICAgLSBhcHBsaWNhdGlvbi9qc29uXHJcbiAqICAgICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIG5hbWU6IGZsaWdodFxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBGbGlnaHQgb2JqZWN0XHJcbiAqICAgICAgICAgaW46IGJvZHlcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgICRyZWY6ICcjL2RlZmluaXRpb25zL0ZsaWdodCdcclxuICogICAgIHJlc3BvbnNlczpcclxuICogICAgICAgMjAwOlxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgY3JlYXRlZFxyXG4gKi9cclxuXHJcbmFwcC5wb3N0KFwiL2ZsaWdodFwiLCAocmVxLHJlcyk9PiB7XHJcbiAgICB2YXIgbmV3RmxpZ2h0ID0ge1xyXG4gICAgICAgIGZsaWdodENvZGU6IHJlcS5ib2R5LmZsaWdodENvZGUsXHJcbiAgICAgICAgYWlybGluZTogcmVxLmJvZHkuYWlybGluZSxcclxuICAgICAgICBzb3VyY2U6IHJlcS5ib2R5LnNvdXJjZSxcclxuICAgICAgICBkZXN0aW5hdGlvbjogcmVxLmJvZHkuZGVzdGluYXRpb24sXHJcbiAgICAgICAgZmFyZTogcmVxLmJvZHkuZmFyZVxyXG4gICAgfVxyXG5cclxuLy9jcmVhdGUgbmV3IGZsaWdodFxyXG4gICAgdmFyIGZsaWdodCA9IG5ldyBGbGlnaHQobmV3RmxpZ2h0KVxyXG4gICAgZmxpZ2h0LnNhdmUoKS50aGVuKChkYXRhKT0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk5ldyBGbGlnaHQgYWRkZWRcIik7XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoZGF0YSlcclxuICAgICAgICAvL3Jlcy5qc29uKGRhdGEpICAgICAgICBcclxuICAgIH0pLmNhdGNoICgoZXJyKSA9PiB7XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvL3Jlcy5zZW5kKFwiTmV3IGZsaWdodCBhZGRlZCBzdWNjZXNzZnVsbHlcIilcclxufSkgXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyAyXSBSRVRSSUVWRSBBTEwgRkxJR0hUU1xyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2ZsaWdodHM6XHJcbiAqICBnZXQ6XHJcbiAqICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gRmxpZ2h0c1xyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBnZXQgYWxsIGZsaWdodHMgaW4gZGF0YWJhc2VcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBmZXRjaGVkIGZsaWdodFxyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKi9cclxuYXBwLmdldChcIi9mbGlnaHRzXCIsIChyZXEscmVzKT0+IHtcclxuICAgIEZsaWdodC5maW5kKCkudGhlbigoZmxpZ2h0cyk9PntcclxuICAgICAgICByZXMuanNvbihmbGlnaHRzKVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coZmxpZ2h0cyk7XHJcbiAgICB9KVxyXG59KVxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gM10gcmV0cmlldmUgZmxpZ2h0IGJ5IHRoZSBjb2RlXHJcbi8qKlxyXG4gKiBAc3dhZ2dlclxyXG4gKiAvZmxpZ2h0Q29kZS97ZmxpZ2h0Q29kZX06XHJcbiAqICBnZXQ6XHJcbiAqICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gRmxpZ2h0c1xyXG4gKiAgICBzdW1tYXJ5OiBGZXRjaCBhIGZsaWdodC5cclxuICogICAgZGVzY3JpcHRpb246IFVzZWQgdG8gZmV0Y2ggYSBzaW5nbGUgZmxpZ2h0XHJcbiAqICAgIHJlc3BvbnNlczpcclxuICogICAgICAnMjAwJzpcclxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgZmV0Y2hlZCBmbGlnaHRcclxuICogICAgICAnNTAwJzpcclxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTZXJ2ZXIgZXJyb3JcclxuICogIHBhcmFtZXRlcnM6XHJcbiAqICAgICAgIC0gaW46IHBhdGhcclxuICogICAgICAgICBuYW1lOiBmbGlnaHRDb2RlXHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICB0eXBlOiBTdHJpbmdcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogVGhlIGZsaWdodCBjb2RlXHJcbiAqL1xyXG5hcHAuZ2V0KFwiL2ZsaWdodENvZGUvOmZsaWdodENvZGVcIiwocmVxLHJlcykgPT4ge1xyXG4gICAgRmxpZ2h0LmZpbmRPbmUoe2ZsaWdodENvZGU6IHJlcS5wYXJhbXMuZmxpZ2h0Q29kZX0pLnRoZW4oKGZsaWdodCk9PiB7XHJcbiAgICAgICAgaWYoZmxpZ2h0KXtcclxuICAgICAgICAgICAgcmVzLnNlbmQoZmxpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwNCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vIC5jYXRjaChlcnIgPT57XHJcbiAgICAvLyAgICAgaWYoZXJyKXtcclxuICAgIC8vICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0pXHJcbn0gKVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDRdIFJldHJpZXZlIGZsaWdodCBieSB0aGVpciBpZCBcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHQve2lkfTpcclxuICogIGdldDpcclxuICogICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgIHN1bW1hcnk6IEZldGNoIGEgZmxpZ2h0LlxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBmZXRjaCBhIHNpbmdsZSBmbGlnaHRcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBmZXRjaGVkIGZsaWdodFxyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGlkXHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICB0eXBlOiBpbnRlZ2VyXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFRoZSBmbGlnaHQgSURcclxuICovXHJcblxyXG5hcHAuZ2V0KFwiL2ZsaWdodC86aWRcIiwocmVxLHJlcykgPT4ge1xyXG4gICAgRmxpZ2h0LmZpbmRCeUlkKCByZXEucGFyYW1zLmlkKS50aGVuKChmbGlnaHQpPT4ge1xyXG4gICAgICAgIGlmKGZsaWdodCl7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKGZsaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc2VuZFN0YXR1cyg0MDQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pLmNhdGNoKGVyciA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSApXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gNV0gUmV0cmlldmUgZmxpZ2h0IGJ5IHNvdXJjZSBhbmQgZGVzdGluYXRpb25cclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHQve3NvdXJjZX0ve2Rlc3RpbmF0aW9ufTpcclxuICogIGdldDpcclxuICogICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgIHN1bW1hcnk6IFNlYXJjaCBmbGlnaHRzXHJcbiAqICAgIGRlc2NyaXB0aW9uOiBVc2VkIHRvIHNlYXJjaCBmbGlnaHRzXHJcbiAqICAgIHJlc3BvbnNlczpcclxuICogICAgICAnMjAwJzpcclxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgc2VhcmNoZWQgZmxpZ2h0c1xyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IHNvdXJjZVxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFNvdXJjZVxyXG4gKiBcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGRlc3RpbmF0aW9uXHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICB0eXBlOiBTdHJpbmdcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRGVzdGluYXRpb25cclxuICogICAgICAgXHJcbiAqL1xyXG5hcHAuZ2V0KFwiL2ZsaWdodC86c291cmNlLzpkZXN0aW5hdGlvblwiLChyZXEscmVzKSA9PiB7XHJcbiAgICBsZXQgc291cmNlID0gcmVxLnBhcmFtcy5zb3VyY2UudG9Mb3dlckNhc2UoKTtcclxuICAgIGxldCBkZXN0aW5hdGlvbiA9IHJlcS5wYXJhbXMuZGVzdGluYXRpb24udG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICBGbGlnaHQuZmluZCh7c291cmNlOiBzb3VyY2UsIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbn0pLnRoZW4oKGZsaWdodCk9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcy5qc29uKGZsaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZsaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICB9KS5jYXRjaChlcnIgPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0gKVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDZdIHJlbW92aW5nIGZsaWdodHNcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHQve2ZsaWdodENvZGV9OlxyXG4gKiAgZGVsZXRlOlxyXG4gKiAgICB0YWdzOlxyXG4gKiAgICAgICAtIEZsaWdodHNcclxuICogICAgc3VtbWFyeTogRGVsZXRlIGEgZmxpZ2h0LlxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBkZWxldGUgYSBmbGlnaHRcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBkZWxldGVkIGZsaWdodFxyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGZsaWdodENvZGVcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBUaGUgZmxpZ2h0IElEXHJcbiAqL1xyXG5hcHAuZGVsZXRlKCcvZmxpZ2h0LzpmbGlnaHRDb2RlJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBGbGlnaHQuZmluZE9uZUFuZFJlbW92ZSh7ZmxpZ2h0Q29kZTogcmVxLnBhcmFtcy5mbGlnaHRDb2RlfSkudGhlbigocmVzcG9uc2UpID0+IHsgICAgICAgIFxyXG4gICAgICAgIHJlcy5zZW5kKHJlc3BvbnNlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGAgZmxpZ2h0IGRlbGV0ZWRgICk7XHJcbiAgICAgIC8vcmVzLnNlbmQoXCJGbGlnaHQgcmVtb3ZlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgIC8vY29uc29sZS5sb2coZmxpZ2h0KTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gN10gIFVQREFUSU5HIEZMSUdIVFxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2ZsaWdodC97aWR9OlxyXG4gKiAgIHB1dDpcclxuICogICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gRmxpZ2h0c1xyXG4gKiAgICAgZGVzY3JpcHRpb246IENyZWF0ZXMgYSBuZXcgZmxpZ2h0XHJcbiAqICAgICBwcm9kdWNlczpcclxuICogICAgICAgLSBhcHBsaWNhdGlvbi9qc29uXHJcbiAqICAgICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIG5hbWU6IGlkXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IGZsaWdodCBvYmplY3QgaWRcclxuICogICAgICAgICBpbjogcGF0aFxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICAgICAgZGVzY3JpcHRpb246IHVzZXIncyBvYmplY3QgaWRcclxuICogICAgICAgLSBuYW1lOiBmbGlnaHRcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRmxpZ2h0IG9iamVjdFxyXG4gKiAgICAgICAgIGluOiBib2R5XHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICAkcmVmOiAnIy9kZWZpbml0aW9ucy9GbGlnaHQnXHJcbiAqICAgICByZXNwb25zZXM6XHJcbiAqICAgICAgIDIwMDpcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRmxpZ2h0IFN1Y2Nlc3NmdWxseSB1cGRhdGVkXHJcbiAqICAgICAgIDQwMDpcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIEVycm9yXHJcbiAqL1xyXG5cclxuYXBwLnB1dCgnL2ZsaWdodC86aWQnLCAocmVxLCByZXMpID0+IHtcclxuICAgIHZhciBuZXdGbGlnaHQgPSB7XHJcbiAgICAgIGFpcmxpbmU6IHJlcS5ib2R5LmFpcmxpbmUsXHJcbiAgICAgIGZsaWdodENvZGU6IHJlcS5ib2R5LmZsaWdodENvZGUsXHJcbiAgICAgIHNvdXJjZTogcmVxLmJvZHkuc291cmNlLFxyXG4gICAgICBkZXN0aW5hdGlvbjogcmVxLmJvZHkuZGVzdGluYXRpb24sXHJcbiAgICAgIGZhcmU6IHJlcS5ib2R5LmZhcmVcclxuICAgIH1cclxuICAgIEZsaWdodC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkLCBcclxuICAgICAge1wiJHNldFwiOiBuZXdGbGlnaHR9LCB7bmV3OiB0cnVlfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYGZsaWdodCB1cGRhdGVkYCk7XHJcbiAgICBcclxuICByZXMuc2VuZChyZXNwb25zZS5kYXRhKTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9saXN0ZW4gdG8gdGhlIHBvcnRcclxuYXBwLmxpc3Rlbig0NTQ1LCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlVwIGFuZCBydW5uaW5nIHRoaXMgaXMgb3VyIGZsaWdodCBzZWFyY2ggc2VydmljZVwiKTtcclxufSlcclxuXHJcbm1vZHVsZS5leHBvcnRzPWFwcDtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGFwcC5kZWxldGUoJy9mbGlnaHQvOmlkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAvLyAgICAgRmxpZ2h0LmRlbGV0ZU9uZSh7aWQ6cmVxLnBhcmFtcy5pZH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAvLyAgICAgICByZXMuc2VuZChcIkZsaWdodCByZW1vdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgIC8vICAgICAgIC8vY29uc29sZS5sb2coZmxpZ2h0KTtcclxuICAgIC8vICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgLy8gICAgICAgaWYoZXJyKXtcclxuICAgIC8vICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgLy8gICAgICAgfVxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyAgIH0pO1xyXG4gICAgXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgXHJcbiAgICAvLyA3XSBVcGRhdGluZyBmbGlnaHRzXHJcbiAgICAvLyBhcHAucHV0KCcvZmxpZ2h0LzpmbGlnaHRDb2RlJywgKHJlcSxyZXMpID0+IHtcclxuICAgIC8vICAgICBGbGlnaHQudXBkYXRlT25lKHtmbGlnaHRDb2RlOiByZXEucGFyYW1zLmZsaWdodENvZGV9LCByZXEuYm9keSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgIC8vICAgICBGbGlnaHQuZmluZE9uZSh7ZmxpZ2h0Q29kZTogcmVxLnBhcmFtcy5mbGlnaHRDb2RlfSkudGhlbihmdW5jdGlvbihmbGlnaHQpe1xyXG4gICAgLy8gICAgICAgICByZXMuc2VuZChmbGlnaHQpOyBcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgICAgICAvL3Jlcy5zZW5kKFwiRmxpZ2h0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgXHJcbiAgICAvLyB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgLy8gICAgIGlmKGVycil7XHJcbiAgICAvLyAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KVxyXG4gICAgLy8gfSk7XHJcbiAgICBcclxuICAgIC8vIGFwcC5wdXQoJy9mbGlnaHQvOmlkJywgKHJlcSxyZXMpID0+IHtcclxuICAgIC8vICAgICBGbGlnaHQuZmluZEJ5SWRBbmRVcGRhdGUoIHJlcS5wYXJhbXMuaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICByZXMuc2VuZChyZXNwb25zZS5kYXRhKVxyXG4gICAgLy8gICAgICAgICAgY29uc29sZS5sb2coXCJGbGlnaHQgdXBkYXRlZCBzdWNlc3NmdWxseVwiKTtcclxuICAgIC8vICAgICAgICAgLy9yZXMuc2VuZChcIkZsaWdodCB1cGRhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgIFxyXG4gICAgLy8gfSkuY2F0Y2goZXJyID0+IHtcclxuICAgIC8vICAgICBpZihlcnIpe1xyXG4gICAgLy8gICAgICAgdGhyb3cgZXJyO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSlcclxuICAgIC8vIH0pOyJdfQ==